# 实验2 图书管理系统用例建模
|    学号    |       班级       |      姓名     |    照片    | 
|:-------:|:------------- | ----------:|----------:|
|   201510414314  |     2015级3班    |   孙守利   |  ![](./psb.jpg '描述') |

## 一、用例图源码如下
```
left to right direction
借书者--->(查询个人信息)
借书者--->(查询图书信息)
借书者--->(查询借阅信息)
借书者--->(预订图书)
借书者-->(解除预订)
借书者-left-->(借书)
借书者-right-->(还书)
(还书)<.(交付罚金):<<extend>>

图书管理员--->(解除预订)
图书管理员--->(预订图书)
图书管理员--->(查询图书信息)
图书管理员-right->(还书)
图书管理员-left-->(借书)

系统管理员--right-->(维护)
系统管理员-->(查询图书信息)
(维护)-up-|>(增加书籍)
(维护)-up-|>(删除书籍)
(维护)-up-|>(更新书籍)
(维护)--|>(增加借书者)
(维护)--|>(删除借书者)
(维护)--|>(更新借书者)
```
## 二、用例图如下
![](./usecase.png '图1 图书管理系统用例图')
## 三、用例规约表如下
![](./usecase1_flow.png '')
### 用例规约1
#### 1.1 查询个人信息
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|1.1 | 
|用例名称：|查询个人信息|  
|用例描述：|借书者查询自己的个人信息。| 
|参与者：|借书者 | 
|前置条件：|图书馆的主页面正常运行|  
|后置条件：|如果读者信息无误，则查询成功，否则失败。| 
|基本路径： | 1.读者在图书管理系统上进行查询；2.系统管理员对读者的个人信息进行查询；|          
|扩展点：   | 3a.读者向系统管理员提出申请未通过；3a1.用户重新提出申请；3a2.系统管理员重新审核。  |
 |补充说明：|无|
#### 1.2 查询图书信息
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|1.2|
|用例名称： |查询图书信息 |  
|角色： |借书者、图书管理员、系统管理员 | 
|用例说明： |借书者已经注册成图书馆系统用户 | 
|前置条件： |借书者已经打开图书馆系统的页面，并登录，进入查询书库界面 |
|基本事件流：|  1. 借书者、图书管理员、系统管理员打开图书馆系统的页面 2. 借书者、图书管理员、系统管理员进入查询书库页面  3. 借书者、图书管理员、系统管理输入要查询的书名/编者/版本/分类...  4. 借书者、图书管理员、系统管理点击确定查找   5. 系统开始搜索相关的图书，若有则显示所有相关图书的条目，若无则 提示“非常抱歉，暂时没有此书目”|  
|其它事件流： |第五步，系统提示“非常抱歉，暂时没有此书目”后，返回查询书库页面| 
|异常事件流： |第五步，系统搜索时出现系统故障，例如网络故障，数据库服务器故障， 系统弹出系统异常页面，并提示“系统异常，请联系管理员”| 
|后置条件： | 页面将返回到学院图书馆系统主页面|
#### 1.3 查询借阅信息
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：| 1.3 |
|用例名称：| 查询借阅信息 |
|用例描述： |图书管理员，借书者查询借阅信息  |
|参与者：| 图书管理员，借书者 |
|前置条件： |图书管理员，借书者成功登陆  |
|后置条件：| 查询借阅信息成功跳转到借阅信息界面，可以查询借阅信息  |
|基本路径： |1. 管理员登陆系统 2. 进入主界面后输入学号，点击查询订阅信息链接 3.进入订阅信息界面|
#### 1.4 借书
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|1.4|
|用例名称：| 借书 |
|角色： |借书者、图书管理员  |
|用例说明：| 管理员进行借书操作  |
|前置条件： |管理员已经打开学院图书馆系统的页面，并登录，进入借书页面 |
|基本事件流：|  1. 管理员进入学院图书馆系统； 2. 管理员打开借还书页面； 3. 管理员扫描食堂卡读入读者信息； 4. 管理员扫描图书读入图书信息； 5. 系统检测读者信息图书信息，确认是否可以进行借书操作；6. 系统进行借书操作，更改数据库；7. 提示借书成功。  |
|其它事件流：|  第三步，系统读入读者信息错误时，提示读者信息错误； 第四步，系统读入图书信息错误时，提示图书信息错误；第四步，系统读入图书信息后检测到图书已被借阅时，提示该图书已被借阅；  第五步，系统检测到读者已经达到借阅数量上限时，提示读者达到借书数量上限，提示借书失败；  |
|异常事件流： |第六步，借书操作时，出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示借书失败  |
|后置条件：|  页面提示借书成功信息|
#### 1.5 还书
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|1.5|
|用例名称：| 还书 |  
|角色： |图书管理员、借书者  |
|用例说明： |管理员进行还书操作  |
|前置条件：| 管理员已经打开学院图书馆系统的页面，并登录，进入还书页面 |
|基本事件流： | 1. 管理员进入学院图书馆系统； 2. 管理员打开借还书页面；3. 管理员扫描图书读入图书信息； 4. 管理员点击还书按钮，在弹出的确认窗口点击确认按钮； 5. 系统检测信息图书信息，确认是否可以进行还书操作； 6. 系统进行还书操作，更改数据库； 7. 提示还书成功。 | 
|其它事件流： |第三步，系统读入图书信息错误时，提示图书信息错误；  第三步，系统读入图书信息后检测到图书未被借阅时，显示该图书不能进行还书操作；  第五步，系统检测到图书超期时，提示需要食堂卡进行图书超期罚款扣费；  |
|异常事件流：| 第六步，还书操作时，出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示还书失败 | 
|后置条件： | 页面提示借书成功信息|


![](./usecase2_flow.png '')
### 用例规约2
#### 2.1 解除预订
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|2.1|
|用例名称：| 解除预订 |
|角色： | 借书者，图书管理员|  
|用例说明： |读者刷卡，系统检索并显示出该读者预订图书信息 |
|前置条件： |用户进行过图书预订 |
|基本事件流: |  1.图书管理员选择“取消预订登记”，提交“取消预订登记”请求； 2.系统显示“取消预订登记”窗口； 3.借书者输入预订登记信息 4.系统列表显示出该读者预订图书信息  5.借书者选择取消预订 6.若用户之前进行过预订，则取消成功。若用户之前没有进行过预订，则转入6.1.1 |
|其他事件流: |无 |
|异常事件流:|   6.1.1用户没有进行预订但想取消预订   6.1.1提示用户取消失败  |
|后置条件：| 用户解除预订成功|
#### 2.2 预订图书
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|2.2
|用例名称：| 预订图书   |
|角色： |借书者、图书管理员  |
|用例说明：| 借书者已经注册成图书馆系统用户 |
|前置条件：| 借书者已经打开图书馆系统的页面，并登录，进入图书预定界面 |
|基本事件流： | 1. 借书者、图书管理员打开学院图书馆系统的页面 2. 借书者、图书管理员进入图书预定页面   3. 借书者、输入要预定的书名/编者/版本... 4. 借书者、点击确定查找    5. 借书者、在结果中选择需要预定的图书进行预定   6. 双击选择要预定的图书，确认提交预定 | 
|其它事件流： |第五步系统若无能订购的图书则返回“没有剩余图书预定”|  
|异常事件流：| 第五步，系统搜索时出现系统故障，例如网络故障，数据库服务器故障， 系统弹出系统异常页面，并提示“系统异常，请联系管理员” |
|后置条件： | 页面将返回到学院图书馆系统主页面|
#### 2.3 交付罚金
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|2.3|
|用例名称：| 交付罚金 | 
|角色：| 借书者、图书管理员 |
|用例说明：| 借书者向图书管理员及交付罚金 |
|前置条件：| 图书管理员登录系统  |
|基本事件流：|  1. 管理员进入学院图书馆系统；     2. 管理员打开借还书页面；    3. 管理员扫描图书读入图书信息；    4. 管理员扫描食堂卡读入读者信息；    5. 管理员点击还书按钮，在弹出的确认窗口点击确认按钮；   6. 系统检测读者信息图书信息，确认是否可以进行还书操作；   7. 系统进行超期罚款操作；    8. 系统进行还书操作，更改数据库；   9. 提示还书成功。|  
|其它事件流：| 第三步，系统读入图书信息错误时，提示图书信息错误；   第三步，系统读入图书信息后检测到图书未被借阅时，显示该图书不能进行还书操作；   第六步，系统检测到读者卡内金额不足以进行罚款扣费时，提示卡内余额不足；  |
|异常事件流：| 第八步，超期罚款操作时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示扣费失败    第八步，还书操作时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示还书失败 | 
|后置条件：| 系统更新图书信息|


![](./usecase3_flow.png '')
### 用例规约3
#### 3.1 删除借书者
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|3.1|
|用例名称：|删除借书者  | 
|角色： |系统管理员 |
|用例说明： |用来删除借书者 |
|前置条件： |管理员登录学院图书馆系统 |
|基本事件流：|  1. 管理员打开删除借书者页面    2. 管理员选择用户，返回用户现有信息  3. 提交删除  4. 确认删除 |
|其它事件流：| 第三步：管理员选择“返回”，该页面将跳转回系统主页面。 | 
|异常事件流：| 第四步，用户作废时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示用户作废失败  |
|后置条件： | 页面将返回到学院图书馆系统管理主页面|
#### 3.2 增加借书者
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|3.2|
|用例名称：| 增加借书者 |
|角色： |系统管理员 |
|用例说明：| 图书馆系统增加借书者|
|前置条件：| 系统管理员已经打开图书馆系统的页面 |
|基本事件流：|  1.系统管理员打开用户创建页面     2.系统管理员输入E-mail地址（作为用户名）、昵称、登录密码、再次输入登录密码，  3.单击“提交”；     4.系统将验证登录用户名的有效性和重复行、密码的正确性，如果都正确则显示“你已成功注册”，否则提示用户重新输入。 | 
|其它事件流：| 第三步：系统管理员选择“重置”，系统将清空输入框信息；   第三步：系统管理员选择“返回”，该页面将返回到学院图书馆系统主页面。 |
|异常事件流：| 第四步，系统注册时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示注册失败  |
|后置条件： |  页面将返回到学院图书馆系统主页面|
#### 3.3 更新借书者
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|3.3|
|用例名称：| 更新借书者 |    
|角色：| 系统管理员 | 
|用例说明： |用来分配用户权限信息，权限的体现具体表现为角色的分配，信息的修改 |
|前置条件：| 管理员登录图书馆系统 |
|基本事件流：|  1. 管理员打开角色修改页面      2. 管理员选择角色，返回角色现有权限信息    3. 勾选角色权限    4. 提交角色权限修改    5. 管理员打开用户角色修改页面     6. 管理员选择用户，返回用户现有角色信息    7. 勾选用户角色    8. 提交用户角色修改  |
|其它事件流：| 第三步：管理员选择“重置”，系统将重置角色现有权限。      第三步：管理员选择“返回”，该页面将跳转回系统主页面。   第七步：管理员选择“重置”，系统将重置用户现有角色。  第七步：管理员选择“返回”，该页面将跳转回系统主页面。 | 
|异常事件流：| 第四步，系统修改时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示角色权限修改失败    第八步，系统修改时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示用户角色修改失败 | 
|后置条件： |  页面将返回到学院图书馆系统管理主页面|
#### 3.4 增加书籍
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|3.4|
|用例名称：| 增加书籍 |
|角色：| 系统管理员  |
|用例说明： |系统管理员（批量/单本）增加图书信息  |
|前置条件： | 管理员已经打开图书馆系统的页面，并登录，进入ISBN导入图书页面|  
|基本事件流：|  1. 管理员进入学院图书馆系统；    2. 管理员打开ISBN导入图书信息页面；    3. 管理员对图书进行扫码,服务端做到自动读取导入图书信息的功能,或者可以手动录入（图书信息需对应网络上已有的内容）   4. 系统获取条形码信息，获取图书相关信息，保存至数据库   5. 提示成功信息；|  
|其它事件流：|  第四步，系统通过条形码信息获取不到图书信息时，提示图书信息获取失败 | 
|异常事件流：| 第四步，系统获取或者保存图书信息时，出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示导入图书信息失败  |
|后置条件：  |页面提示导入成功信息|
#### 3.5 删除书籍
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|3.5|
|用例名称： |删除书籍| 
|角色：  | 系统管理员 |
|用例说明：| 系统管理员删除图书信息| 
|前置条件：| 系统管理员已经登录图书管理系统 | 
|基本事件流：|  1. 系统管理员点击进入图书管理页面     2. 系统管理员选择任意一个或多个目录，点击“作废图书”按钮   3. 系统将会弹出作废确认对话框，询问是否确定作废图书   4. Admin选择‘确认’，作废图书信息。 如果该图书下有外借记录，将无法作废图书；否则，可以作废目录 | 
|其它事件流：| 第4步，系统管理员可选择‘取消’，以取消当前作废操作，系统并将返回图书管理页面  |
|异常事件流：| 第4步，系统作废图书信息时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示系统管理员删除失败 | 
|后置条件： | 系统作废管理员选择的图书信息，并作废该图书的所有连带信息记录|
#### 3.6 更新书籍
|   项目   |    内容    |
|:-------:|:------------- | 
|用例编号：|3.6|
|用例名称：| 更新书籍 |    
|角色：| 系统管理员 |
|用例说明：| 系统管理员更新书籍 |
|前置条件：| 图书管理员登录系统  |
|基本事件流：|  1. 管理员进入图书信息管理页面，页面显示图书的基本信息     2. 管理员选择需要修改的图书，打开修改界面，进行修改   3. 点击确定按钮完成修改    4. 返回图书信息管理界面    5. 修改后的图书信息存入数据库  |
|其它事件流：| 第2步：管理员录入修改的信息后，如果信息错误，提示修改错误信息，不能确认提交修改信息    第3步：管理员点击取消按钮或者返回按钮则取消修改图书信息，返回图书管理页面  |
|异常事件流：| 第六步，用户修改时出现系统故障，例如网络故障，数据库服务器故障，系统弹出系统异常页面，提示修改失败  |
|后置条件： | 系统更新图书信息|
